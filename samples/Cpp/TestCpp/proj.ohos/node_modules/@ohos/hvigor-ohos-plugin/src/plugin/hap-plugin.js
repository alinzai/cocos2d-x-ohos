"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HapPlugin=void 0;const assemble_hap_js_1=require("../tasks/hook/assemble/assemble-hap.js"),sync_module_js_1=require("../tasks/sync/sync-module.js"),abstract_module_plugin_js_1=require("./common/abstract-module-plugin.js"),task_names_js_1=require("../tasks/common/task-names.js"),default_plugin_id_js_1=require("./common/default-plugin-id.js"),build_previewer_res_js_1=require("../tasks/hook/previewer/build-previewer-res.js"),build_hot_reload_resource_js_1=require("../tasks/debugger/build-hot-reload-resource.js");var SyncTask=task_names_js_1.TaskNames.SyncTask;class HapPlugin extends abstract_module_plugin_js_1.AbstractModulePlugin{constructor(e,s){super(default_plugin_id_js_1.DefaultPluginId.OHOS_HAP_PLUGIN,e,s)}initTasks(){this.sync=new sync_module_js_1.SyncModule(this._module,SyncTask.syncTaskName(this._module.getName()),this.isFaMode),this._module.registry(this.sync),this.assembleHap=new assemble_hap_js_1.AssembleHap(this._moduleService,this.isFaMode),this.buildPreviewerRes=new build_previewer_res_js_1.BuildPreviewerRes(this._moduleService,this.isFaMode),this._module.registry(this.assembleHap),this._module.registry(this.buildPreviewerRes),this.isFaMode||(this.buildHotReloadRes=new build_hot_reload_resource_js_1.BuildHotReloadResource(this._moduleService),this._module.registry(this.buildHotReloadRes)),this._needExecTargetServiceList.forEach((e=>{var s;this.assembleHap.initTaskDepends(e),this.buildPreviewerRes.initTaskDepends(e),null===(s=this.buildHotReloadRes)||void 0===s||s.initTaskDepends(e)}))}}exports.HapPlugin=HapPlugin;