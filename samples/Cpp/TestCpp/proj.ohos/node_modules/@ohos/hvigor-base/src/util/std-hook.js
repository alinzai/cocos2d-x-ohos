"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stdErrHook=exports.stdOutHook=exports.StdHook=void 0;const lodash_1=require("lodash");class StdHook{constructor(o,t){this.promise=o,this.unhook=t}}exports.StdHook=StdHook;const hook=(o,t)=>{const{write:r}=o;let s=lodash_1.noop;return new StdHook(new Promise((e=>{s=()=>{o.write=r,e()},o.write=o=>t(String(o))})),s)};function stdOutHook(o){return hook(process.stdout,o)}function stdErrHook(o){return hook(process.stderr,o)}exports.stdOutHook=stdOutHook,exports.stdErrHook=stdErrHook;