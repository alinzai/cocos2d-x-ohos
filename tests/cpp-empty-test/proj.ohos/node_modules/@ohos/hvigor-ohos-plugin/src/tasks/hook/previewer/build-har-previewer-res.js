"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildHarPreviewerRes=void 0;const legacy_generate_har_js_manifest_js_1=require("../../legacy-tasks/legacy-generate-har-js-manifest.js"),abstract_previewer_res_js_1=require("./abstract-previewer-res.js"),preview_hook_compile_resource_js_1=require("../preview-hook-compile-resource.js"),fs_1=__importDefault(require("fs")),pre_check_syscap_js_1=require("../../pre-check-syscap.js"),task_names_js_1=require("../../common/task-names.js");var CommonTask=task_names_js_1.TaskNames.CommonTask;class BuildHarPreviewerRes extends abstract_previewer_res_js_1.AbstractPreviewerRes{constructor(e,s){super(e,s)}initTaskDepends(e){this._isFaMode?this.node.registryDependsOnTask(this,new legacy_generate_har_js_manifest_js_1.LegacyGenerateHarJsManifest(e)):this.node.registryDependsOnTask(this,new preview_hook_compile_resource_js_1.PreviewHookCompileResource(e)),fs_1.default.existsSync(this.syscapJsonPath)&&this.node.registryDependsOnTask(this,new pre_check_syscap_js_1.PreCheckSyscap(e,CommonTask.PRE_CHECK_SYSCAP))}}exports.BuildHarPreviewerRes=BuildHarPreviewerRes;