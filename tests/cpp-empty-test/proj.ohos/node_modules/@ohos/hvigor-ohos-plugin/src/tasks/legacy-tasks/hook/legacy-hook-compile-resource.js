"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTaskRealName=exports.LegacyHookCompileResource=void 0;const ohos_hap_task_js_1=require("../../task/ohos-hap-task.js"),task_names_js_1=require("../../common/task-names.js"),module_type_enum_js_1=require("../../../enum/module-type-enum.js"),legacy_compile_resource_js_1=require("../legacy-compile-resource.js"),legacy_process_resource_js_1=require("../legacy-process-resource.js"),legacy_preview_compile_resource_1=require("../legacy-preview-compile-resource"),legacy_process_resource_increment_1=require("../legacy-process-resource-increment");var CommonTask=task_names_js_1.TaskNames.CommonTask;const lodash_1=require("lodash");class LegacyHookCompileResource extends ohos_hap_task_js_1.OhosHapTask{constructor(e){super(e,CommonTask.LEGACY_HOOK_COMPILE_RESOURCE)}doTaskAction(e){}initTaskDepends(){if(this.service.getModuleModel().getModuleType()===module_type_enum_js_1.ModuleType.Feature)for(const e of this.service.getRelatedEntryModules())this.createTaskAndDepends(e);else this.createTaskAndDepends()}createTaskAndDepends(e){let s,r;this.sdkInfo.isPreviewCompileResourceIncrement(this.targetData.isHarmonyOS())?(r=new legacy_process_resource_increment_1.LegacyProcessResourceIncrement(this.targetService,e),s=new legacy_preview_compile_resource_1.LegacyPreviewCompileResource(this.targetService,r,e)):(r=new legacy_process_resource_js_1.LegacyProcessResource(this.targetService,e),s=new legacy_compile_resource_js_1.LegacyCompileResource(this.targetService,r,e)),this.node.registryDependsOnTask(s,r),this.node.registryDependsOnTask(this,s)}}function getTaskRealName(e,s){return s?{...e,name:`${e.name}With${(0,lodash_1.capitalize)(s)}`}:e}exports.LegacyHookCompileResource=LegacyHookCompileResource,exports.getTaskRealName=getTaskRealName;