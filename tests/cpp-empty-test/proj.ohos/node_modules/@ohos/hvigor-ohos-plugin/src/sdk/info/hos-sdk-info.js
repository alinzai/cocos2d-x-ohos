"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HosSdkInfo=void 0;const hos_sdkmanager_common_1=require("@ohos/hos-sdkmanager-common"),sdkmanager_common_1=require("@ohos/sdkmanager-common"),sdk_java_component_js_1=require("../impl/sdk-java-component.js"),sdk_toolchains_component_js_1=require("../impl/sdk-toolchains-component.js"),common_sdk_info_js_1=require("./common-sdk-info.js"),default_progress_js_1=require("../lib/default-progress.js"),sdk_util_js_1=require("../lib/sdk-util.js");class HosSdkInfo extends common_sdk_info_js_1.CommonSdkInfo{constructor(o,n,s){super(n,s),this.localHosLibComponents=new Map,this.sdkDir=s,this.hosComponents=o;const t=hos_sdkmanager_common_1.HosPrjSdkConfig.builder(this.sdkDir).sdkProxy(sdk_util_js_1.proxyFun),e=new hos_sdkmanager_common_1.SimpleHosPrjSdkHandler(t,new default_progress_js_1.DefaultProgress);this.hosSdkInfoHandler=e.getSdkHandler(hos_sdkmanager_common_1.HosPrjSdkType.HARMONYOS),this.ohosSdkInfoHandler=e.getSdkHandler(hos_sdkmanager_common_1.HosPrjSdkType.OPENHARMONY),this.init()}init(){const o=[];this.hosComponents.forEach((n=>o.push(new sdkmanager_common_1.PathAndApiVersion(n,this.sdkVersion))));let n=(0,sdk_util_js_1.getNDownload)(o,this.ohosSdkInfoHandler);n.forEach(((o,n)=>{(0,sdk_util_js_1.contains)(n,this.localLibComponents)||(this.localLibComponents.set(n,o),this.initComponent(o))}));const s=new sdkmanager_common_1.PathAndApiVersion("toolchains",this.sdkVersion);n=(0,sdk_util_js_1.getNDownload)([s],this.hosSdkInfoHandler),n.forEach(((o,n)=>{(0,sdk_util_js_1.contains)(n,this.localHosLibComponents)||this.localHosLibComponents.set(n,o)})),this.ohJavaComponent=new sdk_java_component_js_1.SdkJavaComponent(this.findLocalComponent(sdkmanager_common_1.ComponentPath.TOOLCHAINS,this.localLibComponents)),this.hosJavaComponent=new sdk_java_component_js_1.SdkJavaComponent(this.findLocalComponent(sdkmanager_common_1.ComponentPath.TOOLCHAINS,this.localHosLibComponents)),this.hosToolchainsComponent=new sdk_toolchains_component_js_1.HosSdkToolchainsComponent(this.findLocalComponent(sdkmanager_common_1.ComponentPath.TOOLCHAINS,this.localHosLibComponents))}getRestool(){var o,n;return null!==(n=null===(o=this.toolchainsComponent)||void 0===o?void 0:o.getRestoolPath())&&void 0!==n?n:""}getHosResTool(){var o,n;return null!==(n=null===(o=this.hosJavaComponent)||void 0===o?void 0:o.getRestoolPath())&&void 0!==n?n:""}getSdkHandler(){return this.hosSdkInfoHandler}getFormSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getFormSchema():""}getModuleSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getHosModuleSchema():""}getAppSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getAppSchema():""}getRichSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getRichSchema():""}getLiteSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getLiteSchema():""}getHapSignToolV2(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getHapSignToolV2():""}getAbilityShellJar(){return this.hosJavaComponent?this.hosJavaComponent.getAbilityShellJarPath():""}getAceJar(){return this.hosJavaComponent?this.hosJavaComponent.getAceJarPath():""}getApkSignerJar(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getApkSignerJarPath():""}getAJar(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getAJarPath():""}getD8Jar(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getD8JarPath():""}getAapt2Tool(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getAapt2ToolPath():""}getOhosJar(){return this.hosJavaComponent?this.hosJavaComponent.getOhosJarPath():""}getHosModuleSchema(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getHosModuleSchema():""}getReleaseType(){return this.hosToolchainsComponent?this.hosToolchainsComponent.getReleaseType():""}}exports.HosSdkInfo=HosSdkInfo;