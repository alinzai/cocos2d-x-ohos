"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createOhInstallTask = void 0;
const component_contants_1 = require("../../core/constants/component-contants");
const ets_install_task_1 = require("../../core/task/ets-install-task");
const js_install_task_1 = require("../../core/task/js-install-task");
const single_task_wrapper_1 = require("../../core/task/single-task-wrapper");
const oh_install_task_1 = require("./oh-install-task");
/**
 * 创建安装任务
 * @param component component
 * @param settings settings
 * @param axiosInstance axiosInstance
 */
function createOhInstallTask(component, settings, axiosInstance) {
    return new single_task_wrapper_1.SingleTaskWrapper(createInstallTaskHelper(component, settings, axiosInstance));
}
exports.createOhInstallTask = createOhInstallTask;
function createInstallTaskHelper(component, sdkSettings, axiosInstance) {
    const ohInstallTask = new oh_install_task_1.OhInstallTask(component, axiosInstance, sdkSettings);
    if (component.getPath() === component_contants_1.ComponentPath.ETS) {
        return new ets_install_task_1.EtsInstallTask(ohInstallTask);
    }
    if (component.getPath() === component_contants_1.ComponentPath.JS) {
        return new js_install_task_1.JsInstallTask(ohInstallTask);
    }
    return ohInstallTask;
}
