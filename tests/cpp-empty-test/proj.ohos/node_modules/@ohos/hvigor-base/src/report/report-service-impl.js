"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportServiceImpl=void 0;const path_1=__importDefault(require("path")),local_file_writer_1=require("../util/local-file-writer");class ReportServiceImpl{constructor(){this.reportListeners=[]}report(){const e={version:"1.0"};for(const t of this.reportListeners){const r=t.queryReport();e[r.getName()]=r.getValue()}this.storage(e)}storage(e){const t=path_1.default.resolve(process.cwd(),".hvigor","report","report.json");local_file_writer_1.LocalFileWriter.getInstance().write(t,e)}addListener(e){this.reportListeners.push(e)}removeListener(e){const t=this.reportListeners.indexOf(e);-1!==t&&this.reportListeners.splice(t,1)}static getInstance(){return ReportServiceImpl.instance||(ReportServiceImpl.instance=new ReportServiceImpl),ReportServiceImpl.instance}}exports.ReportServiceImpl=ReportServiceImpl;