"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doIncrementalTask=void 0;const hvigor_log_js_1=require("../../log/hvigor-log.js"),task_converter_js_1=require("../task/proxy/task-converter.js"),index_js_1=require("../../../index.js"),log=hvigor_log_js_1.HvigorLogger.getLogger("hvigor-incremental-task");function doIncrementalTask(e){const t=e,r=task_converter_js_1.taskConVert.convert(t);if(t.beforeAlwaysAction(),function(){if(!index_js_1.hvigor.startParameters.incrementalExecution)return!0;const t=e.taskExecutedStatus.unTrackStateReason;if(t)return log.debug(`${e.getPath()} will not track state,eg do incremental,because:${t}`),!0;return!1}())t.declareInputs(),t.declareInputFiles(),r.execute();else{r.preExecute()?(t.taskExecutedStatus.setIsUpToDate(!0),index_js_1.traceBuildAnalyze.hasIncremental=!0):r.execute()}}exports.doIncrementalTask=doIncrementalTask;