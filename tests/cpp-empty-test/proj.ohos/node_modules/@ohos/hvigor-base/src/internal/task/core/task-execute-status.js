"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TaskExecuteStatus=exports.TASK_EXECUTE_STATUS=void 0,exports.TASK_EXECUTE_STATUS={BLOCKED:0,PENDING:1,RUNNING:2,END:3,CANCELLED:4,FAILED:5};class TaskExecuteStatus{constructor(){this._isUpToDate=!1,this._state=exports.TASK_EXECUTE_STATUS.BLOCKED,this._submitWorkIdList=new Set}setState(t){if(t<this._state)throw new Error("Cannot change the task status.");this._state=t,t===exports.TASK_EXECUTE_STATUS.RUNNING&&(this._taskBeginTime=process.hrtime())}getState(){return this._state}addWorkId(t){this._submitWorkIdList.add(t)}setWorkFinished(t){this._submitWorkIdList.delete(t)}allWorksHasFinished(){return 0===this._submitWorkIdList.size}getTaskBeginTime(){return this._taskBeginTime}setIsUpToDate(t){this._isUpToDate=t}isUpToDate(){return this._isUpToDate}}exports.TaskExecuteStatus=TaskExecuteStatus;