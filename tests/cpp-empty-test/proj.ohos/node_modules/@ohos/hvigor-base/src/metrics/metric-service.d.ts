import { Metric } from './metric.js';
import { ReportListener } from '../report/report-listener.js';
import { Report } from '../report/report.js';
/**
 * 矩阵服务
 *
 * @since 2022/8/17
 */
export declare class MetricService implements ReportListener {
    private static instance;
    private factory;
    private taskMetricCacheService;
    private workIdRecord;
    private constructor();
    /**
     * 记录workerId
     *
     * @param workerId
     */
    addWorkerId(workerId: number): void;
    /**
     * 创建Metric
     *
     * @param name 矩阵名称
     * @param taskName 任务名称
     * @param taskPath 任务路径
     * @param workerId 默认为-1，表示主进程
     */
    newMetric(name: string, taskName: string, taskPath: string, workerId?: number): Metric;
    /**
     * 提交metric到缓存服务
     *
     * @param metric
     */
    submit(metric: Metric): void;
    /**
     * 供报告服务查询报告
     */
    queryReport(): Report<Metric[]>;
    /**
     * 清除缓存
     */
    clear(): void;
    static getInstance(): MetricService;
}
