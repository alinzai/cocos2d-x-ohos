"use strict";var __awaiter=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.endMonitor=exports.startMonitor=exports.cpuUsage=void 0;const worker_threads_1=require("worker_threads"),path_1=__importDefault(require("path"));let worker;function startMonitor(){worker||(worker=new worker_threads_1.Worker(path_1.default.resolve(__dirname,"./monitor-script.js")),worker.on("message",(t=>{exports.cpuUsage=t})))}function endMonitor(){return __awaiter(this,void 0,void 0,(function*(){worker&&(yield worker.terminate())}))}exports.cpuUsage=0,exports.startMonitor=startMonitor,exports.endMonitor=endMonitor;