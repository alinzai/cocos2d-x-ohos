"use strict";var __importDefault=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.initEnvConfigProps=void 0;const hvigor_base_1=require("@ohos/hvigor-base"),fs_1=__importDefault(require("fs")),hvigor_base_2=require("@ohos/hvigor-base"),os_1=__importDefault(require("os")),path_1=__importDefault(require("path")),process_1=__importDefault(require("process")),global_data_js_1=require("@ohos/hvigor-base/src/internal/data/global-data.js"),cli_options_js_1=require("@ohos/hvigor-base/src/util/options/cli-options.js"),configFileName=hvigor_base_1.HvigorCommonConst.PROJECT_CONFIG_FILE_NAME,propertiesAlias=cli_options_js_1.cliOptions.prop.alias,modeAlias=cli_options_js_1.cliOptions.mode.alias,_log=hvigor_base_2.HvigorLogger.getLogger("hvigor-InitEnvConfigProps");function initEnvConfigProps(){const o=global_data_js_1.globalData.cliOpts,i=global_data_js_1.globalData.cliEnv,e=path_1.default.resolve(process_1.default.cwd(),hvigor_base_1.HvigorCommonConst.PROJECT_CONFIG_FILE);fs_1.default.existsSync(e)||_log.errorMessageExit(`Cannot find project build file '${hvigor_base_1.HvigorCommonConst.PROJECT_CONFIG_FILE}'\n        ${os_1.default.EOL}\t at ${i.cwd}`);const s=new Map;return void 0!==o.prop&&[].concat(o.prop).forEach((o=>{const i=o.split("=");s.set(i[0],i[1])})),i.configProps=new Map([[configFileName,e],[propertiesAlias,s],[modeAlias,o.mode]]),e}exports.initEnvConfigProps=initEnvConfigProps;